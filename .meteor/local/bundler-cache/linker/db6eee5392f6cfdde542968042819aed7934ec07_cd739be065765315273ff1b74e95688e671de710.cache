[{"type":"js","data":"//////////////////////////////////////////////////////////////////////////\n//                                                                      //\n// This is a generated file. You can view the original                  //\n// source in your browser if your browser supports source maps.         //\n// Source maps are supported by all recent versions of Chrome, Safari,  //\n// and Firefox, and by Internet Explorer 11.                            //\n//                                                                      //\n//////////////////////////////////////////////////////////////////////////\n\n\n(function () {\n\n/* Imports */\nvar Meteor = Package.meteor.Meteor;\nvar global = Package.meteor.global;\nvar meteorEnv = Package.meteor.meteorEnv;\nvar Accounts = Package['accounts-base'].Accounts;\nvar $ = Package.jquery.$;\nvar jQuery = Package.jquery.jQuery;\n\n(function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                     //\n// packages/zuuk_stale-session/packages/zuuk_stale-session.js                                                          //\n//                                                                                                                     //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                       //\n(function () {\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// packages/zuuk:stale-session/client.js                                                                            //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\n//                                                                                                                  // 1\n// Client side activity detection for the session timeout                                                           // 2\n// - depends on jquery                                                                                              // 3\n//                                                                                                                  // 4\n// Meteor settings:                                                                                                 // 5\n// - staleSessionHeartbeatInterval: interval (in ms) at which activity heartbeats are sent up to the server         // 6\n// - staleSessionActivityEvents: the jquery events which are considered indicator of activity e.g. in an on() call. // 7\n//                                                                                                                  // 8\nvar heartbeatInterval = Meteor.settings && Meteor.settings.public && Meteor.settings.public.staleSessionHeartbeatInterval || (3*60*1000); // 3mins\nvar activityEvents = Meteor.settings && Meteor.settings.public && Meteor.settings.public.staleSessionActivityEvents || 'mousemove click keydown';\n                                                                                                                    // 11\nvar activityDetected = false;                                                                                       // 12\n                                                                                                                    // 13\nMeteor.startup(function() {                                                                                         // 14\n                                                                                                                    // 15\n    //                                                                                                              // 16\n    // periodically send a heartbeat if activity has been detected within the interval                              // 17\n    //                                                                                                              // 18\n    Meteor.setInterval(function() {                                                                                 // 19\n        if (Meteor.userId() && activityDetected) {                                                                  // 20\n            Meteor.call('heartbeat');                                                                               // 21\n            activityDetected = false;                                                                               // 22\n        }                                                                                                           // 23\n    }, heartbeatInterval);                                                                                          // 24\n                                                                                                                    // 25\n    //                                                                                                              // 26\n    // detect activity and mark it as detected on any of the following events                                       // 27\n    //                                                                                                              // 28\n    $(document).on(activityEvents, function() {                                                                     // 29\n       activityDetected = true;                                                                                     // 30\n    });                                                                                                             // 31\n});                                                                                                                 // 32\n                                                                                                                    // 33\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n\n\n/* Exports */\nPackage._define(\"zuuk:stale-session\");\n\n})();\n","servePath":"/packages/zuuk_stale-session.js"}]